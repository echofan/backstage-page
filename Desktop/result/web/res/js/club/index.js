define("club/index",["libs/template","libs/subscribe"],function(a,t,e){var c=a("libs/template"),n=a("libs/subscribe");c.helper("monPrice",function(a){if(a)return a[0].actualprice.toFixed(2)+"/"+a[0].payment||""});var i={bindEvent:function(){$("body").delegate(".js-tap","click",function(a){var t=$(this).data("handler");i[t]&&i[t].call(this)})},getClubList:function(a){var t={jsonrpc:"2.0",method:"Product.Clubber",id:54321,params:{"version":"v3.8"}};$.Func.ajax(t,function(t){var e=t.result;$.isFunction(a)&&a(e)})},checkSubscribe:function(a){var t=this;n.vipService(a,function(a){t.getClubList(function(t){$.each(t.data,function(e,c){switch(c.buystatus?t.data[e].btnDesc="订阅":t.data[e].btnDesc="续订","allproduct"!=c.productclass&&"l3_txd"!=c.productclass&&"l3_weipan"!=c.productclass&&"l3_txd_weipan"!=c.productclass||(t.data[e].btnDesc="限时抢订"),c.productclass){case"yingyan":t.data[e].url="../hawkeye/index.html";break;case"weipan":t.data[e].url="wallet.html";break;case"tanxiandui":t.data[e].url="http://wx.gupiaoxianji.com/auth/indexcallbacktxd/";break;case"guxiban":t.data[e].url="http://m.qlchat.com/live/530000013017993.htm";break;case"level3":~$.inArray(c.productclass,a)?t.data[e].url="http://res.gupiaoxianji.com/level3/banners/base.html?userid="+encodeURIComponent($.User.userid):t.data[e].url="http://res.gupiaoxianji.com/level3/shenqi/shenqi.html";break;case"allproduct":t.data[e].url="../taocan/allproduct/index.html";break;case"l3_txd":t.data[e].url="../taocan/l3_txd/index.html";break;case"l3_weipan":t.data[e].url="../taocan/l3_weipan/index.html";break;case"l3_txd_weipan":t.data[e].url="../taocan/l3_txd_weipan/index.html";break;default:""!=c.productclassurl&&(t.data[e].url=c.productclassurl)}~$.inArray(c.productclass,a)?t.data[e].status=0:t.data[e].status=1});var e=c("list-template",t);$("#list").html(e)})})},closeLayer:function(){$(this).parent().parent().removeClass("show")},init:function(){var a=this;$.Func.getUserInfo(),$.User.wxgzh||$.Func.showLayer("#popBindAccount");var t=$.User.userid;a.checkSubscribe(t),a.bindEvent()}};e.exports=i});