define("libs/chart",[],function(t,e,i){var s=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},function(t){this.defs={selector:"#canvas",point:"pctchg",xCount:4,yCount:4,offset:{top:40,right:100,bottom:80,left:20}};var e=function(t,e){"object"!=typeof t&&(t={});for(var i in t)e[i]=t[i]};e(t,this.defs),this.init()});return s.prototype={formateDate:function(t){var e=t.toString();return e.substring(4,6)+"/"+e.substring(6)},absPercent:function(){for(var t=0,e=1,i=0;i<this.defs.days.length;i++)for(var s=this.defs.days[i],f=0;f<s.data.length;f++)t=Math.max(t,s.data[f][this.defs.point]),e=Math.min(e,s.data[f][this.defs.point]);return{max:t,min:e,abs:t-e}},fillRightText:function(){for(var t=this.ctx,e=this.cols,i=this.defs.yCount,s=1.1*e.abs,f=1.1*e.min,o=(1.1*e.max,100*f),h=this.reginLines.length-1;h>=0;h--)t.fillText(o.toFixed(2)+"%",this.reginLines[h].x+10,this.reginLines[h].y-30),o+=s/i*100},fillBottomText:function(){var t=this.ctx,e=this.defs.days[0],i=e.data.length,s=this.defs.xCount,f=(this.defs.yCount,this.width/s),o=this.height-this.defs.offset.bottom+30,h=0;if(t.font="20px Verdana",t.fillStyle="#000",t.textAlign="center","object"==typeof e.data&&i>4)for(var n=0;n<s;n++){var a=Math.ceil(i/s*n);n==s-1&&(a=i-1),h=this.defs.offset.left+f*n+25,t.fillText(this.formateDate(e.data[a].transday),h,o)}},drawLines:function(){var t=this,e=this.ctx,i=this.defs.days,s=this.cols,f=(this.height-this.defs.offset.top-this.defs.offset.bottom)/(1.1*s.abs);for(var o in i){var h=i[o],n=h.data,a=t.defs.point,r=(t.width-t.defs.offset.left-t.defs.offset.right)/(n.length-1),d=0,l=t.defs.offset.left,c=t.height-t.defs.offset.bottom+1.1*s.min*f;for(e.moveTo(l,c),e.beginPath(),d=1;d<n.length-1;d++)e.lineTo(d*r+l,c-n[d][a]*f),e.lineWidth=3,e.strokeStyle=h.fillStyle,e.lineCap="round",e.stroke();e.closePath()}},drawRegin:function(){var t=this.ctx,e=4,i=y=0,s=this.width-this.defs.offset.left-this.defs.offset.right,f=this.height-this.defs.offset.top-this.defs.offset.bottom,o=f/e;this.reginLines=[],t.save(),t.translate(this.width/2,this.height/2),t.rotate(Math.PI),t.translate(-this.width/2,-this.height/2),t.fillStyle="#fff",t.strokeStyle="#ececec",t.lineWidth=1,t.fillRect(this.defs.offset.right,this.defs.offset.bottom,s,f),t.strokeRect(this.defs.offset.right,this.defs.offset.bottom,s,f),t.strokeStyle="#ddd";for(var h=0;h<e;h++)y=this.defs.offset.bottom+o*h,i=this.defs.offset.left+s+35,t.beginPath(),t.moveTo(this.defs.offset.right,y),t.lineTo(this.defs.offset.right+s,y),t.stroke(),t.closePath(),this.reginLines.push({x:i,y:y});y=this.defs.offset.bottom+o*e,i=this.defs.offset.left+s+35,this.reginLines.push({x:i,y:y}),t.restore()},clearRect:function(t,e,i,s){t=t||0,e=e||0,i=i||this.width,s=s||this.height,this.ctx.clearRect(t,e,i,s)},paint:function(){this.clearRect(),this.drawRegin(),this.drawLines(),this.fillBottomText(),this.fillRightText()},init:function(){this.cols=this.absPercent(),this.canvas=document.querySelector(this.defs.selector),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.width,this.height=this.canvas.height,this.paint()}},s});